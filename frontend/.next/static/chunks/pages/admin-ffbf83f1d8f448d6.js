(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(2705)}])},6490:function(t,e,r){"use strict";r.d(e,{Z:function(){return l}});var s=r(5893);r(7294);var n=r(1664),i=r.n(n),a=r(1163);function l(t){let{children:e}=t,r=(0,a.useRouter)();return(0,s.jsxs)("div",{style:d.wrapper,children:[(0,s.jsxs)("aside",{style:d.sidebar,children:[(0,s.jsx)("div",{style:d.sidebarHeader,children:(0,s.jsx)("h2",{style:d.sidebarTitle,children:"Admin Panel"})}),(0,s.jsx)("nav",{style:d.nav,children:[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/products",label:"Products",icon:"\uD83E\uDD69"},{href:"/admin/orders",label:"Orders",icon:"\uD83D\uDCE6"},{href:"/admin/design",label:"Design",icon:"\uD83C\uDFA8"},{href:"/admin/settings",label:"Settings",icon:"⚙️"}].map(t=>(0,s.jsxs)(i(),{href:t.href,style:{...d.navItem,...r.pathname===t.href?d.navItemActive:{}},children:[(0,s.jsx)("span",{style:d.icon,children:t.icon}),t.label]},t.href))}),(0,s.jsx)("div",{style:d.sidebarFooter,children:(0,s.jsx)(i(),{href:"/",style:d.backLink,children:"← Back to Store"})})]}),(0,s.jsx)("main",{style:d.main,children:(0,s.jsx)("div",{style:d.content,children:e})})]})}let d={wrapper:{display:"flex",minHeight:"100vh",backgroundColor:"#f5f5f5"},sidebar:{width:"250px",backgroundColor:"var(--color-primary)",color:"white",display:"flex",flexDirection:"column"},sidebarHeader:{padding:"2rem 1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},sidebarTitle:{fontSize:"20px",fontWeight:"bold",margin:0},nav:{flex:1,padding:"1rem 0"},navItem:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1.5rem",color:"white",textDecoration:"none",transition:"background-color 0.2s ease"},navItemActive:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderLeft:"4px solid white"},icon:{fontSize:"20px"},sidebarFooter:{padding:"1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},backLink:{color:"white",textDecoration:"none",fontSize:"14px"},main:{flex:1,overflow:"auto"},content:{padding:"2rem",maxWidth:"1400px"}}},8937:function(t,e,r){"use strict";r.d(e,{Yc:function(){return l},fi:function(){return a},kn:function(){return d},pJ:function(){return o}});var s=r(7066);let n=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",i=s.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}}),a={getAll:t=>i.get("/products",{params:t}),getOne:t=>i.get("/products/".concat(t)),create:t=>i.post("/products",t),update:(t,e)=>i.put("/products/".concat(t),e),delete:t=>i.delete("/products/".concat(t)),bulkUpdate:t=>i.post("/products/bulk-update",t)},l={getAll:()=>i.get("/categories"),getOne:t=>i.get("/categories/".concat(t)),create:t=>i.post("/categories",t),update:(t,e)=>i.put("/categories/".concat(t),e),delete:t=>i.delete("/categories/".concat(t))},d={getAll:t=>i.get("/orders",{params:t}),getOne:t=>i.get("/orders/".concat(t)),create:t=>i.post("/orders",t),updateStatus:(t,e)=>i.put("/orders/".concat(t,"/status"),{status:e})},o={getAll:()=>i.get("/settings"),getOne:t=>i.get("/settings/".concat(t)),update:(t,e)=>i.put("/settings/".concat(t),{value:e})}},2705:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return l}});var s=r(5893),n=r(7294),i=r(6490),a=r(8937);function l(){let[t,e]=(0,n.useState)({totalOrders:0,totalProducts:0,pendingOrders:0,revenue:0}),[r,l]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{var t,r;let[s,n]=await Promise.all([a.kn.getAll({limit:5}),a.fi.getAll({limit:1})]),i=s.data.data||[],d=i.filter(t=>"pending"===t.status),o=i.reduce((t,e)=>t+parseFloat(e.totalAmount),0);e({totalOrders:(null===(t=s.data.pagination)||void 0===t?void 0:t.total)||0,totalProducts:(null===(r=n.data.pagination)||void 0===r?void 0:r.total)||0,pendingOrders:d.length,revenue:o}),l(i.slice(0,5))}catch(t){console.error("Error fetching dashboard data:",t)}})()},[]);let o=t=>new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF",minimumFractionDigits:0}).format(t),c=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(i.Z,{children:[(0,s.jsx)("h1",{style:d.title,children:"Dashboard"}),(0,s.jsxs)("div",{style:d.statsGrid,children:[(0,s.jsxs)("div",{className:"card",style:d.statCard,children:[(0,s.jsx)("div",{style:d.statIcon,children:"\uD83D\uDCE6"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d.statValue,children:t.totalOrders}),(0,s.jsx)("div",{style:d.statLabel,children:"Total Orders"})]})]}),(0,s.jsxs)("div",{className:"card",style:d.statCard,children:[(0,s.jsx)("div",{style:d.statIcon,children:"⏳"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d.statValue,children:t.pendingOrders}),(0,s.jsx)("div",{style:d.statLabel,children:"Pending Orders"})]})]}),(0,s.jsxs)("div",{className:"card",style:d.statCard,children:[(0,s.jsx)("div",{style:d.statIcon,children:"\uD83E\uDD69"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d.statValue,children:t.totalProducts}),(0,s.jsx)("div",{style:d.statLabel,children:"Total Products"})]})]}),(0,s.jsxs)("div",{className:"card",style:d.statCard,children:[(0,s.jsx)("div",{style:d.statIcon,children:"\uD83D\uDCB0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d.statValue,children:o(t.revenue)}),(0,s.jsx)("div",{style:d.statLabel,children:"Total Revenue"})]})]})]}),(0,s.jsxs)("div",{className:"card",style:d.section,children:[(0,s.jsx)("h2",{style:d.sectionTitle,children:"Recent Orders"}),0===r.length?(0,s.jsx)("p",{children:"No orders yet"}):(0,s.jsxs)("table",{style:d.table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:d.th,children:"Order ID"}),(0,s.jsx)("th",{style:d.th,children:"Customer"}),(0,s.jsx)("th",{style:d.th,children:"Total"}),(0,s.jsx)("th",{style:d.th,children:"Status"}),(0,s.jsx)("th",{style:d.th,children:"Date"})]})}),(0,s.jsx)("tbody",{children:r.map(t=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:d.td,children:t.id.substring(0,8)}),(0,s.jsx)("td",{style:d.td,children:t.phone||"N/A"}),(0,s.jsx)("td",{style:d.td,children:o(t.totalAmount)}),(0,s.jsx)("td",{style:d.td,children:(0,s.jsx)("span",{style:{...d.statusBadge,backgroundColor:"pending"===t.status?"#FFA500":"#4CAF50"},children:t.status})}),(0,s.jsx)("td",{style:d.td,children:c(t.createdAt)})]},t.id))})]})]})]})}let d={title:{fontSize:"32px",fontWeight:"bold",marginBottom:"2rem",color:"var(--color-text)"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},statCard:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem"},statIcon:{fontSize:"40px"},statValue:{fontSize:"28px",fontWeight:"bold",color:"var(--color-primary)"},statLabel:{fontSize:"14px",color:"var(--color-text-light)"},section:{padding:"1.5rem"},sectionTitle:{fontSize:"20px",fontWeight:"bold",marginBottom:"1.5rem",color:"var(--color-text)"},table:{width:"100%",borderCollapse:"collapse"},th:{textAlign:"left",padding:"12px",borderBottom:"2px solid var(--color-border)",fontSize:"14px",fontWeight:"600",color:"var(--color-text)"},td:{padding:"12px",borderBottom:"1px solid var(--color-border)",fontSize:"14px"},statusBadge:{display:"inline-block",padding:"4px 12px",borderRadius:"12px",color:"white",fontSize:"12px",fontWeight:"600"}}},1163:function(t,e,r){t.exports=r(3079)}},function(t){t.O(0,[664,66,888,774,179],function(){return t(t.s=4830)}),_N_E=t.O()}]);