(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4918:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return r(7153)}])},4595:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);r(7294);var i=r(1664),o=r.n(i);function s(e){var t,r;let{product:i}=e,s=(null===(r=i.images)||void 0===r?void 0:null===(t=r.find(e=>e.isPrimary))||void 0===t?void 0:t.imageUrl)||"/placeholder.jpg",c=new Intl.NumberFormat("en-RW",{style:"currency",currency:i.currency||"RWF",minimumFractionDigits:0}).format(i.pricePerBaseUnit);return(0,n.jsx)(o(),{href:"/products/".concat(i.id),style:{textDecoration:"none"},children:(0,n.jsxs)("div",{className:"card",style:a.card,children:[(0,n.jsx)("div",{style:a.imageContainer,children:(0,n.jsx)("img",{src:s,alt:i.title,style:a.image,onError:e=>{e.target.src="/placeholder.jpg"}})}),(0,n.jsxs)("div",{style:a.content,children:[(0,n.jsx)("h3",{style:a.title,children:i.title}),i.description&&(0,n.jsxs)("p",{style:a.description,children:[i.description.substring(0,100),i.description.length>100?"...":""]}),(0,n.jsxs)("div",{style:a.priceContainer,children:[(0,n.jsx)("span",{style:a.price,children:c}),(0,n.jsxs)("span",{style:a.unit,children:["/",i.baseUnit]})]})]})]})})}let a={card:{cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",overflow:"hidden"},imageContainer:{width:"100%",height:"200px",overflow:"hidden",backgroundColor:"#f5f5f5"},image:{width:"100%",height:"100%",objectFit:"cover"},content:{padding:"var(--spacing-md)"},title:{fontSize:"18px",fontWeight:"600",color:"var(--color-text)",marginBottom:"0.5rem"},description:{fontSize:"14px",color:"var(--color-text-light)",marginBottom:"1rem",lineHeight:"1.4"},priceContainer:{display:"flex",alignItems:"baseline",gap:"4px"},price:{fontSize:"24px",fontWeight:"bold",color:"var(--color-primary)"},unit:{fontSize:"14px",color:"var(--color-text-light)"}}},2452:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5893);r(7294);var i=r(1664),o=r.n(i),s=r(6192);function a(){let e=(0,s.x)(e=>e.getTotalItems());return(0,n.jsx)("header",{style:c.header,children:(0,n.jsxs)("div",{className:"container",style:c.container,children:[(0,n.jsx)(o(),{href:"/",style:c.logo,children:(0,n.jsx)("h1",{style:c.logoText,children:"German Butchery"})}),(0,n.jsxs)("nav",{style:c.nav,children:[(0,n.jsx)(o(),{href:"/products",style:c.navLink,children:"Products"}),(0,n.jsxs)(o(),{href:"/cart",style:c.navLink,children:["Cart ",e>0&&(0,n.jsx)("span",{style:c.badge,children:e})]}),(0,n.jsx)(o(),{href:"/orders",style:c.navLink,children:"Orders"})]})]})})}let c={header:{backgroundColor:"var(--color-primary)",color:"white",padding:"1rem 0",boxShadow:"var(--shadow-md)"},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{color:"white",textDecoration:"none"},logoText:{fontSize:"24px",fontWeight:"bold",margin:0},nav:{display:"flex",gap:"1.5rem"},navLink:{color:"white",textDecoration:"none",fontSize:"16px",fontWeight:"500",position:"relative"},badge:{backgroundColor:"var(--color-accent)",color:"white",borderRadius:"12px",padding:"2px 8px",fontSize:"12px",fontWeight:"bold",marginLeft:"4px"}};function l(){return(0,n.jsxs)("footer",{style:d.footer,children:[(0,n.jsxs)("div",{className:"container",style:d.container,children:[(0,n.jsxs)("div",{style:d.section,children:[(0,n.jsx)("h3",{style:d.heading,children:"German Butchery"}),(0,n.jsx)("p",{style:d.text,children:"Premium quality meats in Kigali, Rwanda"})]}),(0,n.jsxs)("div",{style:d.section,children:[(0,n.jsx)("h3",{style:d.heading,children:"Contact"}),(0,n.jsx)("p",{style:d.text,children:"Phone: +250 123 456 789"}),(0,n.jsx)("p",{style:d.text,children:"WhatsApp: +250123456789"}),(0,n.jsx)("p",{style:d.text,children:"Email: info@germanbutchery.rw"})]}),(0,n.jsxs)("div",{style:d.section,children:[(0,n.jsx)("h3",{style:d.heading,children:"Hours"}),(0,n.jsx)("p",{style:d.text,children:"Mon-Fri: 8:00 AM - 6:00 PM"}),(0,n.jsx)("p",{style:d.text,children:"Saturday: 8:00 AM - 4:00 PM"}),(0,n.jsx)("p",{style:d.text,children:"Sunday: Closed"})]})]}),(0,n.jsx)("div",{style:d.bottom,children:(0,n.jsx)("p",{children:"\xa9 2025 German Butchery. All rights reserved."})})]})}let d={footer:{backgroundColor:"#333",color:"white",marginTop:"4rem",padding:"2rem 0 1rem"},container:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginBottom:"2rem"},section:{padding:"0"},heading:{fontSize:"18px",marginBottom:"1rem",color:"var(--color-accent)"},text:{fontSize:"14px",marginBottom:"0.5rem",color:"#ccc"},bottom:{borderTop:"1px solid #555",paddingTop:"1rem",textAlign:"center",fontSize:"14px",color:"#999"}};function p(e){let{children:t}=e;return(0,n.jsxs)("div",{style:u.wrapper,children:[(0,n.jsx)(a,{}),(0,n.jsx)("main",{style:u.main,children:t}),(0,n.jsx)(l,{})]})}let u={wrapper:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:1,paddingTop:"2rem",paddingBottom:"2rem"}}},8937:function(e,t,r){"use strict";r.d(t,{Yc:function(){return a},fi:function(){return s},kn:function(){return c},pJ:function(){return l}});var n=r(7066);let i=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",o=n.Z.create({baseURL:i,headers:{"Content-Type":"application/json"}}),s={getAll:e=>o.get("/products",{params:e}),getOne:e=>o.get("/products/".concat(e)),create:e=>o.post("/products",e),update:(e,t)=>o.put("/products/".concat(e),t),delete:e=>o.delete("/products/".concat(e)),bulkUpdate:e=>o.post("/products/bulk-update",e)},a={getAll:()=>o.get("/categories"),getOne:e=>o.get("/categories/".concat(e)),create:e=>o.post("/categories",e),update:(e,t)=>o.put("/categories/".concat(e),t),delete:e=>o.delete("/categories/".concat(e))},c={getAll:e=>o.get("/orders",{params:e}),getOne:e=>o.get("/orders/".concat(e)),create:e=>o.post("/orders",e),updateStatus:(e,t)=>o.put("/orders/".concat(e,"/status"),{status:t})},l={getAll:()=>o.get("/settings"),getOne:e=>o.get("/settings/".concat(e)),update:(e,t)=>o.put("/settings/".concat(e),{value:t})}},6192:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(4529),i=r(782);let o=(0,n.Ue)()((0,i.tJ)((e,t)=>({items:[],addItem:r=>{let n=t().items;n.find(e=>e.id===r.id)?e({items:n.map(e=>e.id===r.id?{...e,quantity:e.quantity+r.quantity}:e)}):e({items:[...n,r]})},removeItem:r=>{e({items:t().items.filter(e=>e.id!==r)})},updateQuantity:(r,n)=>{n<=0?t().removeItem(r):e({items:t().items.map(e=>e.id===r?{...e,quantity:n}:e)})},clearCart:()=>{e({items:[]})},getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0)}),{name:"cart-storage"}))},7153:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(5893),i=r(7294),o=r(1163),s=r(2452),a=r(4595),c=r(8937);function l(){let e=(0,o.useRouter)(),{category:t,search:r}=e.query,[l,p]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[m,g]=(0,i.useState)(!0),[x,f]=(0,i.useState)("");return(0,i.useEffect)(()=>{(async()=>{try{let e=await c.Yc.getAll();h(e.data||[])}catch(e){console.error("Error fetching categories:",e)}})()},[]),(0,i.useEffect)(()=>{(async()=>{g(!0);try{let e={};t&&(e.category=t),r&&(e.search=r);let n=await c.fi.getAll(e);p(n.data.data||[])}catch(e){console.error("Error fetching products:",e)}finally{g(!1)}})()},[t,r]),(0,n.jsx)(s.Z,{children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{style:d.title,children:"Products"}),(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.push("/products?search=".concat(x))},style:d.searchForm,children:[(0,n.jsx)("input",{type:"text",placeholder:"Search products...",value:x,onChange:e=>f(e.target.value),style:d.searchInput}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})]}),(0,n.jsxs)("div",{style:d.filters,children:[(0,n.jsx)("button",{onClick:()=>e.push("/products"),className:t?"btn":"btn btn-primary",style:t?d.filterButton:d.activeFilter,children:"All"}),u.map(r=>(0,n.jsx)("button",{onClick:()=>e.push("/products?category=".concat(r.slug)),className:t===r.slug?"btn btn-primary":"btn",style:t===r.slug?d.activeFilter:d.filterButton,children:r.name},r.id))]}),m?(0,n.jsx)("p",{children:"Loading products..."}):0===l.length?(0,n.jsx)("p",{children:"No products found."}):(0,n.jsx)("div",{className:"grid grid-4",style:d.grid,children:l.map(e=>(0,n.jsx)(a.Z,{product:e},e.id))})]})})}let d={title:{fontSize:"36px",fontWeight:"bold",marginBottom:"2rem",color:"var(--color-text)"},searchForm:{display:"flex",gap:"1rem",marginBottom:"2rem",maxWidth:"600px"},searchInput:{flex:1,padding:"12px",border:"1px solid var(--color-border)",borderRadius:"var(--border-radius)",fontSize:"16px",outline:"none"},filters:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},filterButton:{backgroundColor:"white",color:"var(--color-text)",border:"1px solid var(--color-border)"},activeFilter:{backgroundColor:"var(--color-primary)",color:"white"},grid:{marginTop:"2rem"}}},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[664,66,962,888,774,179],function(){return e(e.s=4918)}),_N_E=e.O()}]);