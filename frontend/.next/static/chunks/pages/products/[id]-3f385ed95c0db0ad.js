(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{2818:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return r(1710)}])},2452:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var i=r(5893);r(7294);var n=r(1664),o=r.n(n),l=r(6192);function a(){let e=(0,l.x)(e=>e.getTotalItems());return(0,i.jsx)("header",{style:s.header,children:(0,i.jsxs)("div",{className:"container",style:s.container,children:[(0,i.jsx)(o(),{href:"/",style:s.logo,children:(0,i.jsx)("h1",{style:s.logoText,children:"German Butchery"})}),(0,i.jsxs)("nav",{style:s.nav,children:[(0,i.jsx)(o(),{href:"/products",style:s.navLink,children:"Products"}),(0,i.jsxs)(o(),{href:"/cart",style:s.navLink,children:["Cart ",e>0&&(0,i.jsx)("span",{style:s.badge,children:e})]}),(0,i.jsx)(o(),{href:"/orders",style:s.navLink,children:"Orders"})]})]})})}let s={header:{backgroundColor:"var(--color-primary)",color:"white",padding:"1rem 0",boxShadow:"var(--shadow-md)"},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{color:"white",textDecoration:"none"},logoText:{fontSize:"24px",fontWeight:"bold",margin:0},nav:{display:"flex",gap:"1.5rem"},navLink:{color:"white",textDecoration:"none",fontSize:"16px",fontWeight:"500",position:"relative"},badge:{backgroundColor:"var(--color-accent)",color:"white",borderRadius:"12px",padding:"2px 8px",fontSize:"12px",fontWeight:"bold",marginLeft:"4px"}};function d(){return(0,i.jsxs)("footer",{style:c.footer,children:[(0,i.jsxs)("div",{className:"container",style:c.container,children:[(0,i.jsxs)("div",{style:c.section,children:[(0,i.jsx)("h3",{style:c.heading,children:"German Butchery"}),(0,i.jsx)("p",{style:c.text,children:"Premium quality meats in Kigali, Rwanda"})]}),(0,i.jsxs)("div",{style:c.section,children:[(0,i.jsx)("h3",{style:c.heading,children:"Contact"}),(0,i.jsx)("p",{style:c.text,children:"Phone: +250 123 456 789"}),(0,i.jsx)("p",{style:c.text,children:"WhatsApp: +250123456789"}),(0,i.jsx)("p",{style:c.text,children:"Email: info@germanbutchery.rw"})]}),(0,i.jsxs)("div",{style:c.section,children:[(0,i.jsx)("h3",{style:c.heading,children:"Hours"}),(0,i.jsx)("p",{style:c.text,children:"Mon-Fri: 8:00 AM - 6:00 PM"}),(0,i.jsx)("p",{style:c.text,children:"Saturday: 8:00 AM - 4:00 PM"}),(0,i.jsx)("p",{style:c.text,children:"Sunday: Closed"})]})]}),(0,i.jsx)("div",{style:c.bottom,children:(0,i.jsx)("p",{children:"\xa9 2025 German Butchery. All rights reserved."})})]})}let c={footer:{backgroundColor:"#333",color:"white",marginTop:"4rem",padding:"2rem 0 1rem"},container:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginBottom:"2rem"},section:{padding:"0"},heading:{fontSize:"18px",marginBottom:"1rem",color:"var(--color-accent)"},text:{fontSize:"14px",marginBottom:"0.5rem",color:"#ccc"},bottom:{borderTop:"1px solid #555",paddingTop:"1rem",textAlign:"center",fontSize:"14px",color:"#999"}};function u(e){let{children:t}=e;return(0,i.jsxs)("div",{style:p.wrapper,children:[(0,i.jsx)(a,{}),(0,i.jsx)("main",{style:p.main,children:t}),(0,i.jsx)(d,{})]})}let p={wrapper:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:1,paddingTop:"2rem",paddingBottom:"2rem"}}},8937:function(e,t,r){"use strict";r.d(t,{Yc:function(){return a},fi:function(){return l},kn:function(){return s},pJ:function(){return d}});var i=r(7066);let n=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",o=i.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}}),l={getAll:e=>o.get("/products",{params:e}),getOne:e=>o.get("/products/".concat(e)),create:e=>o.post("/products",e),update:(e,t)=>o.put("/products/".concat(e),t),delete:e=>o.delete("/products/".concat(e)),bulkUpdate:e=>o.post("/products/bulk-update",e)},a={getAll:()=>o.get("/categories"),getOne:e=>o.get("/categories/".concat(e)),create:e=>o.post("/categories",e),update:(e,t)=>o.put("/categories/".concat(e),t),delete:e=>o.delete("/categories/".concat(e))},s={getAll:e=>o.get("/orders",{params:e}),getOne:e=>o.get("/orders/".concat(e)),create:e=>o.post("/orders",e),updateStatus:(e,t)=>o.put("/orders/".concat(e,"/status"),{status:t})},d={getAll:()=>o.get("/settings"),getOne:e=>o.get("/settings/".concat(e)),update:(e,t)=>o.put("/settings/".concat(e),{value:t})}},6192:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var i=r(4529),n=r(782);let o=(0,i.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:r=>{let i=t().items;i.find(e=>e.id===r.id)?e({items:i.map(e=>e.id===r.id?{...e,quantity:e.quantity+r.quantity}:e)}):e({items:[...i,r]})},removeItem:r=>{e({items:t().items.filter(e=>e.id!==r)})},updateQuantity:(r,i)=>{i<=0?t().removeItem(r):e({items:t().items.map(e=>e.id===r?{...e,quantity:i}:e)})},clearCart:()=>{e({items:[]})},getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0)}),{name:"cart-storage"}))},1710:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var i=r(5893),n=r(7294),o=r(1163),l=r(2452);function a(e){let{units:t,onQuantityChange:r}=e,o=t.find(e=>e.isDefault)||t[0],[l,a]=(0,n.useState)(1),[d,c]=(0,n.useState)((null==o?void 0:o.unit)||"kg"),u=e=>{e>0&&(a(e),r(e,d))},p=e=>{c(e),r(l,e)};return(0,i.jsxs)("div",{style:s.container,children:[(0,i.jsxs)("div",{style:s.quantityControl,children:[(0,i.jsx)("button",{style:s.button,onClick:()=>u(l-1),children:"-"}),(0,i.jsx)("input",{type:"number",value:l,onChange:e=>u(parseFloat(e.target.value)||0),style:s.input,min:"0",step:"0.1"}),(0,i.jsx)("button",{style:s.button,onClick:()=>u(l+1),children:"+"})]}),t.length>1&&(0,i.jsx)("select",{value:d,onChange:e=>p(e.target.value),style:s.select,children:t.map(e=>(0,i.jsx)("option",{value:e.unit,children:e.unit},e.unit))})]})}let s={container:{display:"flex",gap:"1rem",alignItems:"center"},quantityControl:{display:"flex",alignItems:"center",border:"1px solid var(--color-border)",borderRadius:"var(--border-radius)",overflow:"hidden"},button:{width:"40px",height:"40px",border:"none",backgroundColor:"var(--color-bg-light)",fontSize:"20px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s ease"},input:{width:"80px",height:"40px",border:"none",borderLeft:"1px solid var(--color-border)",borderRight:"1px solid var(--color-border)",textAlign:"center",fontSize:"16px",outline:"none"},select:{padding:"10px",border:"1px solid var(--color-border)",borderRadius:"var(--border-radius)",fontSize:"16px",cursor:"pointer",backgroundColor:"white",outline:"none"}};var d=r(8937),c=r(6192);function u(){var e,t,r;let{id:s}=(0,o.useRouter)().query,u=(0,c.x)(e=>e.addItem),[x,g]=(0,n.useState)(null),[h,m]=(0,n.useState)(!0),[y,f]=(0,n.useState)(1),[v,j]=(0,n.useState)("");if((0,n.useEffect)(()=>{s&&(async()=>{m(!0);try{var e,t;let r=await d.fi.getOne(s);g(r.data);let i=(null===(e=r.data.units)||void 0===e?void 0:e.find(e=>e.isDefault))||(null===(t=r.data.units)||void 0===t?void 0:t[0]);i&&j(i.unit)}catch(e){console.error("Error fetching product:",e)}finally{m(!1)}})()},[s]),h)return(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("p",{children:"Loading..."})})});if(!x)return(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("p",{children:"Product not found"})})});let b=(null===(t=x.images)||void 0===t?void 0:null===(e=t.find(e=>e.isPrimary))||void 0===e?void 0:e.imageUrl)||"/placeholder.jpg",S=new Intl.NumberFormat("en-RW",{style:"currency",currency:x.currency||"RWF",minimumFractionDigits:0}).format(x.pricePerBaseUnit);return(0,i.jsx)(l.Z,{children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{style:p.container,children:[(0,i.jsx)("div",{style:p.imageSection,children:(0,i.jsx)("img",{src:b,alt:x.title,style:p.image,onError:e=>{e.target.src="/placeholder.jpg"}})}),(0,i.jsxs)("div",{style:p.detailsSection,children:[(0,i.jsx)("h1",{style:p.title,children:x.title}),(0,i.jsxs)("div",{style:p.priceContainer,children:[(0,i.jsx)("span",{style:p.price,children:S}),(0,i.jsxs)("span",{style:p.unit,children:["/",x.baseUnit]})]}),x.description&&(0,i.jsx)("p",{style:p.description,children:x.description}),(0,i.jsx)("div",{style:p.separator}),(0,i.jsxs)("div",{style:p.quantitySection,children:[(0,i.jsx)("label",{style:p.label,children:"Quantity"}),(0,i.jsx)(a,{units:x.units||[{unit:x.baseUnit,multiplier:1,isDefault:!0}],onQuantityChange:(e,t)=>{f(e),j(t)}})]}),(0,i.jsx)("button",{className:"btn btn-primary",style:p.addButton,onClick:()=>{var e,t,r;if(!x)return;let i=null===(e=x.units)||void 0===e?void 0:e.find(e=>e.unit===v),n=x.pricePerBaseUnit*((null==i?void 0:i.multiplier)||1);u({id:"".concat(x.id,"-").concat(v),productId:x.id,title:x.title,price:n,quantity:y,unit:v,imageUrl:null===(r=x.images)||void 0===r?void 0:null===(t=r.find(e=>e.isPrimary))||void 0===t?void 0:t.imageUrl}),alert("Product added to cart!")},children:"Add to Cart"}),(0,i.jsxs)("div",{style:p.categories,children:[(0,i.jsx)("strong",{children:"Categories:"}),null===(r=x.productCategories)||void 0===r?void 0:r.map(e=>(0,i.jsx)("span",{style:p.category,children:e.category.name},e.category.id))]})]})]})})})}let p={container:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"3rem",marginTop:"2rem"},imageSection:{width:"100%"},image:{width:"100%",height:"auto",borderRadius:"var(--border-radius)",boxShadow:"var(--shadow-md)"},detailsSection:{display:"flex",flexDirection:"column",gap:"1.5rem"},title:{fontSize:"36px",fontWeight:"bold",color:"var(--color-text)"},priceContainer:{display:"flex",alignItems:"baseline",gap:"8px"},price:{fontSize:"32px",fontWeight:"bold",color:"var(--color-primary)"},unit:{fontSize:"18px",color:"var(--color-text-light)"},description:{fontSize:"16px",lineHeight:"1.6",color:"var(--color-text-light)"},separator:{height:"1px",backgroundColor:"var(--color-border)"},quantitySection:{display:"flex",flexDirection:"column",gap:"0.5rem"},label:{fontSize:"16px",fontWeight:"600",color:"var(--color-text)"},addButton:{fontSize:"18px",padding:"14px 32px",width:"100%"},categories:{display:"flex",flexWrap:"wrap",gap:"0.5rem",alignItems:"center",fontSize:"14px"},category:{backgroundColor:"var(--color-bg-light)",padding:"4px 12px",borderRadius:"12px",color:"var(--color-text-light)"}}},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[664,66,962,888,774,179],function(){return e(e.s=2818)}),_N_E=e.O()}]);